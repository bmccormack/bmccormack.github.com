<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Bmccormack.GitHub.com by bmccormack</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <p>Hello World</p>
<script type="text/javascript">
var viz;
var workbook;
var activeSheet;

function initializeViz() {
  var placeholderDiv = document.getElementById("tableauPlaceholder");
  var url = "https://tableau.ccr.net/trusted/UPFlK6VDWO_VwJHK4GAbc_bt/views/NielsenTicketAging/NielsenAgingTickets";
  var options = {
    width: "100%",
    height: "1200px",
    ticket:"UPFlK6VDWO_VwJHK4GAbc_bt",
    hideTabs: true,
    hideToolbar: true,
    onFirstInteractive: function () {
      workbook = viz.getWorkbook();
      activeSheet = workbook.getActiveSheet();
      activeSheet.getWorksheets()[0].applyFilterAsync("Company_RecID", "3158", tableauSoftware.FilterUpdateType.REPLACE);
    }
  };
  
  viz = new tableau.Viz(placeholderDiv, url, options);
  viz.addEventListener('tabswitch', function(event) {//listen for tab click, set filter on sheet
    workbook = viz.getWorkbook();
    activeSheet = workbook.getActiveSheet();
  });
  
  console.log("init");
}
    </script>

<div id="tableauPlaceholder" style="height:1200px; width:100%;"></div>
<script type="text/javascript">

initializeViz();    

    </script>
    
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
